var http=function(){var n={};return n.get=function(n,t=null,i=null){var r=new XMLHttpRequest;r.open("GET",n);r.send(null);r.onreadystatechange=function(){r.readyState===4?r.status===200&&(r.responseText?t(JSON.parse(r.responseText)):t(null)):i&&i(r.status)}},n}(),TodoService=function(){var n={},i=null,t=!0,u=function(t){http.get("http://localhost:5001/api/todo/add/"+t,function(){n.get()})},r=function(n){for(var i,f=document.getElementById("todolist"),u="",r=0;r<n.length;r++)(i=n[r],t||!i.finished)&&(u+=`<tr>
                    <td>
                        <div class="ui checkbox">
                            <input type="checkbox" ${i.finished?"checked":""} onclick="TodoService.toggle('${i.key}');"/>
                            <label>${i.text}</label>
                        </div>
                    </td >
                    <td class="right aligned">
                        <a onclick="TodoService.remove('${i.key}');" >
                            <i class="red remove icon"></i>
                        </a>
                    </td>
                </tr>`);f.innerHTML=u};return n.tryAdd=function(){var n=document.getElementById("taskText");n.value&&(u(n.value),n.value="")},n.remove=function(t){http.get("http://localhost:5001/api/todo/remove/"+t,function(){n.get()})},n.toggle=function(t){http.get("http://localhost:5001/api/todo/task/"+t+"/toggle",function(){n.get()})},n.get=function(){http.get("http://localhost:5001/api/todo/tasks",function(n){i=n;r(i)})},n.toggleTaskVisibility=function(){t=!t;var n=document.getElementById("taskButton");n.innerText=t?"Hide finished tasks":"Show finished tasks";r(i)},n}();window.onload=function(){TodoService.get();TodoService.toggleTaskVisibility()};